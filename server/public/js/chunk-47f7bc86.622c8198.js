(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47f7bc86"],{"2efc":function(e,t,a){},"71ec":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("v-card",[t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.items,"sort-by":["id"],"sort-desc":!0,options:e.options,"server-items-length":e.totalRecords},on:{"update:options":[function(t){e.options=t},function(t){return e.getScooterList()}]},scopedSlots:e._u([{key:"top",fn:function(){return[t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[e._v("Scooter List")]),t("v-spacer"),t("v-btn",{staticClass:"mb-2 mr-2",attrs:{color:"primary",dark:""},on:{click:function(t){return e.onAddClick()}}},[e._v(" Create ")])],1),t("v-row",{staticClass:"ma-1"},[t("v-col",{attrs:{xs:"6",sm:"4",md:"3"}},[t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{input:e.onSearchInput},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)]},proxy:!0},{key:"item.createdAt",fn:function({item:t}){return[e._v(" "+e._s(t.createdAt?e.setDateFormat(t.createdAt):"Not Available")+" ")]}},{key:"item.updatedAt",fn:function({item:t}){return[e._v(" "+e._s(t.updatedAt?e.setDateFormat(t.updatedAt):"Not Available")+" ")]}},{key:"item.statusId",fn:function({item:a}){return[t("v-chip",{attrs:{color:e.getStatus(a.statusId).color,dark:""}},[e._v(" "+e._s(e.getStatus(a.statusId).name)+" ")])]}},{key:"item.actions",fn:function({item:a}){return[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:o}){return[t("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:"",color:"success"},on:{click:function(t){return e.onViewClick(a)}}},"v-icon",o,!1),s),[e._v(" mdi-eye ")])]}}],null,!0)},[t("span",[e._v("View")])]),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:o}){return[t("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.onEditClick(a.id)}}},"v-icon",o,!1),s),[e._v(" mdi-pencil ")])]}}],null,!0)},[t("span",[e._v("Edit")])]),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:o}){return[t("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(t){return e.onDeleteClick(a)}}},"v-icon",o,!1),s),[e._v(" mdi-delete ")])]}}],null,!0)},[t("span",[e._v("Delete")])])]}}],null,!0)})],1)],1),t("v-snackbar",{attrs:{timeout:"3000",color:e.snackBar.type,top:"",right:""},model:{value:e.snackBar.enabled,callback:function(t){e.$set(e.snackBar,"enabled",t)},expression:"snackBar.enabled"}},[e._v(" "+e._s(e.snackBar.message)+" ")]),t("add-dialog",{on:{close:function(t){e.addDialog=!1},submit:e.addScooter},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}}),t("view-dialog",{attrs:{"selected-item":e.selectedViewItem},on:{close:function(t){e.viewDialog=!1}},model:{value:e.viewDialog,callback:function(t){e.viewDialog=t},expression:"viewDialog"}}),t("edit-dialog",{attrs:{"selected-item":e.selectedEditItem},on:{close:function(t){e.editDialog=!1},submit:e.updateScooter},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),t("delete-dialog",{on:{cancel:function(t){e.deleteDialog=!1},confirm:e.deleteScooter},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}})],1)},o=[],r=function(){var e=this,t=e._self._c;return t("v-dialog",e._g(e._b({attrs:{persistent:"",width:"600",eager:""}},"v-dialog",e.$attrs,!1),e.$listeners),[t("v-sheet",{attrs:{outlined:"",color:"accent",rounded:""}},[t("v-card",[t("v-card-title",{staticClass:"dialog-title"},[e._v(" Add Scooter ")]),t("v-divider"),t("v-card-text",{staticStyle:{"max-height":"500px","overflow-y":"auto"}},[t("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-container",{staticClass:"px-0",attrs:{fluid:""}},[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{color:"primary",label:"Name",rules:e.rules.name,required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("v-text-field",{attrs:{color:"primary",label:"Phone Number",rules:e.rules.phone,required:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("v-text-field",{attrs:{color:"primary",label:"Barcode",rules:e.rules.barcode,required:""},model:{value:e.form.barcode,callback:function(t){e.$set(e.form,"barcode",t)},expression:"form.barcode"}})],1),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("v-text-field",{attrs:{color:"primary",label:"Model",rules:e.rules.model,required:""},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}})],1),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("v-text-field",{attrs:{color:"primary",label:"TERMEN APROXIMATIV",rules:e.rules.termen,required:""},model:{value:e.form.termen,callback:function(t){e.$set(e.form,"termen",t)},expression:"form.termen"}})],1),t("v-col",{attrs:{cols:"12"}},[t("v-textarea",{attrs:{color:"primary",label:"Problem",rows:3,rules:e.rules.problem,required:""},model:{value:e.form.problem,callback:function(t){e.$set(e.form,"problem",t)},expression:"form.problem"}})],1),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{color:"primary",label:"Price",rules:e.rules.price,required:""},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1)],1)],1)],1)],1),t("v-divider"),t("v-card-actions",{staticClass:"dialog-actions"},[t("v-spacer"),t("v-btn",{attrs:{color:"error",small:""},on:{click:e.handleClose}},[e._v(" Close ")]),t("v-btn",{attrs:{color:"primary",small:""},on:{click:e.handleSubmit}},[e._v(" Save ")])],1)],1)],1)],1)},i=[],l={name:"AddDialog",components:{},props:{},data(){return{form:{name:"",phone:"",barcode:"",model:"",termen:"",problem:"",price:""},rules:{name:[e=>!!e||"Name is required"],phone:[e=>!!e||"Phone Number is required"],barcode:[e=>!!e||"Barcode is required",e=>Number.isInteger(Number(e))||"Barcode must be a number"],model:[e=>!!e||"Model is required"],termen:[e=>!!e||"TERMEN APROXIMATIV is required"],problem:[e=>!!e||"Problem is required"],price:[e=>!!e||"Price is required",e=>Number.isInteger(Number(e))||"Price must be a number"]},valid:!0}},methods:{handleClose(){this.$emit("close"),this.$refs.form.resetValidation()},handleSubmit(){const e=this.$refs.form.validate();e&&(this.$emit("submit",this.form),this.$refs.form.resetValidation())}}},c=l,n=(a("e19d"),a("2877")),d=Object(n["a"])(c,r,i,!1,null,"6de6062c",null),u=d.exports,m=a("042f"),p=a("3c9d"),h=function(){var e=this,t=e._self._c;return t("v-dialog",e._g(e._b({attrs:{persistent:"",width:"350",eager:""}},"v-dialog",e.$attrs,!1),e.$listeners),[t("v-sheet",{attrs:{outlined:"",color:"accent",rounded:""}},[t("v-card",[t("v-card-title",{staticClass:"dialog-title"},[e._v(" Delete Scooter ")]),t("v-card-text",[e._v(" Do you want to delete this item? ")]),t("v-card-actions",[t("v-btn",{staticClass:"text-capitalize btn",attrs:{small:"",color:"error"},on:{click:e.confirm}},[e._v(" Confirm ")]),t("v-btn",{staticClass:"text-capitalize btn",attrs:{small:"",color:"white"},on:{click:e.cancel}},[e._v(" Cancel ")])],1)],1)],1)],1)},v=[],f={name:"DeleteDialog",components:{},props:{},data(){return{}},methods:{confirm(){this.$emit("confirm")},cancel(){this.$emit("cancel")}}},b=f,g=(a("7b04"),Object(n["a"])(b,h,v,!1,null,"60939286",null)),k=g.exports,D=a("5a0c"),S=a.n(D),x=a("8cef"),y=a.n(x),_={name:"ScooterList",components:{AddDialog:u,ViewDialog:m["a"],EditDialog:p["a"],DeleteDialog:k},data(){return{options:{},search:"",headers:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Phone",value:"phone"},{text:"Barcode",value:"barcode"},{text:"Model",value:"model"},{text:"Termen",value:"termen"},{text:"Problem",value:"problem"},{text:"Price",value:"price"},{text:"Created Date",value:"createdAt"},{text:"Updated Date",value:"updatedAt"},{text:"Status",value:"statusId",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],items:[],totalRecords:0,snackBar:{type:"default",enabled:!1,message:""},addDialog:!1,viewDialog:!1,editDialog:!1,deleteDialog:!1,selectedViewItem:{},selectedEditItem:{},selectedDeleteItem:{}}},created(){this.getScooterList()},mounted(){},methods:{getValue(e,t){return y()(e,t)},onSearchInput(){this.getScooterList()},setDateFormat(e){return S()(e).format("DD/MM/YYYY")},getScooterList(){this.$http.get("scooter",{params:{page:this.options.page,sort_by:this.options.sortBy?this.options.sortBy[0]:null,descending:this.options.sortDesc?this.options.sortDesc[0]:null,rows_per_page:this.options.itemsPerPage,search:this.search}}).then(e=>{e.data&&(console.log(e.data),this.items=e.data.result,this.totalRecords=e.data.count)}).catch(e=>{})},getStatus(e){switch(e){case 1:return{id:1,name:"NewIN LUCRU",color:"#1e88e5"};case 2:return{id:2,name:"FINALIZAT",color:"#4caf50"};case 3:return{id:3,name:"IESIT",color:"#fb8c00"};default:return{id:1,name:"NewIN LUCRU",color:"#1e88e5"}}},onAddClick(){this.addDialog=!0},onViewClick(e){this.selectedViewItem=e,this.viewDialog=!0},onEditClick(e){this.$http.get("scooter/"+e).then(e=>{200===e.status&&(this.selectedEditItem=e.data.result,this.editDialog=!0)}).catch(e=>{this.snackBar.type="error",this.snackBar.enabled=!0,this.snackBar.message="Cannot get user"})},onDeleteClick(e){this.selectedDeleteItem=e,this.deleteDialog=!0},addScooter(e){this.$http.post("scooter",e).then(e=>{200===e.status?(this.addDialog=!1,this.getScooterList(),this.snackBar.type="success",this.snackBar.enabled=!0,this.snackBar.message="Successfully create Scooter"):(this.snackBar.type="error",this.snackBar.enabled=!0,this.snackBar.message="Cannot create Scooter")}).catch(e=>{this.snackBar.type="error",this.snackBar.enabled=!0,this.snackBar.message="Cannot create Scooter"})},updateScooter({form:e,images:t}){t.length?t.map(t=>{const a=new FormData;a.append("file",t.file),this.$http.post("scooter/uploadSignature",a,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>{200===t.status&&(e.signature=t.data.filename,this.$http.put("scooter",e).then(e=>{200===e.status&&(this.editDialog=!1,this.getScooterList(),this.snackBar.type="success",this.snackBar.enabled=!0,this.snackBar.message="Successfully update Scooter")}).catch(e=>{this.snackBar.type="error",this.snackBar.enabled=!0,this.snackBar.message="Cannot update Scooter"}))}).catch(e=>{console.log(e)})}):this.$http.put("scooter",e).then(e=>{200===e.status&&(this.editDialog=!1,this.getScooterList(),this.snackBar.type="success",this.snackBar.enabled=!0,this.snackBar.message="Successfully update Scooter")}).catch(e=>{this.snackBar.type="error",this.snackBar.enabled=!0,this.snackBar.message="Cannot update Scooter"})},deleteScooter(){this.$http.delete("scooter/"+this.selectedDeleteItem.id).then(e=>{200===e.status&&(this.getScooterList(),this.deleteDialog=!1,this.selectedDeleteItem={},this.snackBar.type="success",this.snackBar.enabled=!0,this.snackBar.message="Successfully delete Scooter")}).catch(e=>{this.snackBar.type="error",this.snackBar.enabled=!0,this.snackBar.message="Cannot delete Scooter"})}}},B=_,C=Object(n["a"])(B,s,o,!1,null,null,null);t["default"]=C.exports},"7b04":function(e,t,a){"use strict";a("7c02")},"7c02":function(e,t,a){},e19d:function(e,t,a){"use strict";a("2efc")}}]);
//# sourceMappingURL=chunk-47f7bc86.622c8198.js.map